window.PackingLayout=function(t){function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var e={};return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=1)}([function(t,i){!function(){var i={};i["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i.createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),e(t,o)}}var i=!!Object.defineProperty;if(i)try{Object.defineProperty({},"",{})}catch(n){i=!1}var e;return e=i?function(t,i){Object.defineProperty(t,i.key,i)}:function(t,i){t[i.key]=i.value},function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),i.classCallCheck=function(t,i){},i.inherits=function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},i.possibleConstructorReturn=function(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?t:i},t.exports=i}()},function(t,i,e){t.exports=e(2)},function(t,i,e){(function(i,n){var o=e(4);t.exports=function(t){function e(n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this)),h={containerSelector:"._layout",itemSelector:"._item",containerWidth:1e3,containerHeight:1e3,sort:!0,sizeWeight:1,ratioWeight:1};return o.option(h),o.option(n||{}),o._initVars(),o._layoutBox(),o._drawBox(),o}return i.inherits(e,t),e.prototype._initVars=function(){var t=this;this._$item=n(this.option("itemSelector"),this.option("containerSelector")),this._itemList=[],this._$item.each(function(i,e){n(e).attr("style","");var h=n(e).find("img").attr("style",""),r=h.width(),s=h.height();t._itemList.push(new o({originWidth:r,originHeight:s,width:r,height:s,item:n(e)}))}),this.option("sort")&&this._itemList.sort(function(t,i){return i.width*i.height-t.width*t.height}),this._container=new o({width:0,height:0,left:0,top:0})},e.prototype._layoutBox=function(){var t=this;this._itemList.forEach(function(i){t._findBestFitArea(i),t._container.pushItem(i),t._container.scaleTo(t.option("containerWidth"),t.option("containerHeight"))})},e.prototype._findBestFitArea=function(t){var i=this;if(0===this._container.getRatio())return this._container.originWidth=t.width,this._container.originHeight=t.height,this._container.width=t.width,void(this._container.height=t.height);var n=null,o=1e7,h=!1,r={width:0,height:0},s={width:0,height:0};this._container.innerItem.forEach(function(c){for(var g=e.cost(c.getOriginSize(),c.getSize())*i.option("sizeWeight"),u=e.cost(c.getOriginRatio(),c.getRatio())*i.option("ratioWeight"),a=void 0,f=0;f<2;++f){var p=void 0,d=void 0,l=void 0,_=void 0;0===f?(p=c.width,d=c.height*(t.height/(c.originHeight+t.height)),l=c.width,_=c.height-d):(d=c.height,p=c.width*(t.width/(c.originWidth+t.width)),_=c.height,l=c.width-p);var y=p*d,w=p/d,m=l*_,v=_/_;a=e.cost(t.getSize(),y)*i.option("sizeWeight"),a+=e.cost(t.getRatio(),w)*i.option("ratioWeight"),a+=e.cost(c.getOriginSize(),m)*i.option("sizeWeight")-g,a+=e.cost(c.getOriginRatio(),v)*i.option("ratioWeight")-u,a===Math.min(a,o)&&(o=a,n=c,h=0===f,r.width=p,r.height=d,s.width=l,s.height=_)}}),e.fitArea(t,n,r,s,h)},e.fitArea=function(t,i,e,n,o){t.height=e.height,t.width=e.width,i.height=n.height,i.width=n.width,o?(t.top=i.top+i.height,t.left=i.left):(t.left=i.left+i.width,t.top=i.top)},e.cost=function(t,i){var e=t/i;return e<1&&(e=1/e),e-1},e.prototype._drawBox=function(){var t=0,i=0;this._itemList.forEach(function(n,o){var h=n.item.find("img"),r=h.width(),s=h.height(),c=r/s;n.item.find("._text").text(o+1),n.item.css({position:"absolute",top:n.top,left:n.left,width:n.width,height:n.height}).attr("data-order",o+1),c>=n.width/n.height?(h.css("height","100%"),h.css("marginLeft",-(h.width()-n.width)/2)):(h.css("width","100%"),h.css("marginTop",-(h.height()-n.height)/2)),t+=e.cost(n.originWidth,n.width),t+=e.cost(n.originHeight,n.height),i+=e.cost(n.getRatio(),n.getOriginRatio())});var o=Math.round(t/(2*this._itemList.length)*100),h=Math.round(i/this._itemList.length*100);n("._info").html("사이즈 왜곡 평균: "+o+"%<br />비율 왜곡 평균: "+h+"%")},e.prototype.layout=function(){return this._initVars(),this._layoutBox(),this._drawBox(),this._containerHeight*this._gridSize},e}(eg.Component)}).call(i,e(0),e(3))},function(t,i){!function(){t.exports=window.jQuery}()},function(t,i,e){(function(i){var e=function(){function t(e){i.classCallCheck(this,t),this._originWidth=e.originWidth||0,this._originHeight=e.originHeight||0,this._width=e.width||0,this._height=e.height||0,this._left=e.left||0,this._top=e.top||0,this._item=e.item,this._innerItem=e.innerItem||[]}return t.prototype.scaleTo=function(t,i){var e=0===this._width?0:t/this._width,n=0===this._height?0:i/this._height;this._innerItem.forEach(function(t){0!==e&&(t.left*=e,t.width*=e),0!==n&&(t.top*=n,t.height*=n)}),this.width=t,this.height=i},t.prototype.pushItem=function(t){this._innerItem.push(t)},t.prototype.getOriginSize=function(){return this.originWidth*this.originHeight},t.prototype.getSize=function(){return this.width*this.height},t.prototype.getOriginRatio=function(){return 0===this.originHeight?0:this.originWidth/this.originHeight},t.prototype.getRatio=function(){return 0===this.height?0:this.width/this.height},t.prototype.isSmallerThen=function(t){return this.width<=t.width&&this.height<=t.height},t.prototype.isEqual=function(t){return this.left===t.left&&this.top===t.top&&this.width===t.width&&this.height===t.height},i.createClass(t,[{key:"item",get:function(){return this._item}},{key:"originWidth",get:function(){return this._originWidth},set:function(t){this._originWidth=t}},{key:"originHeight",get:function(){return this._originHeight},set:function(t){this._originHeight=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"left",get:function(){return this._left},set:function(t){this._left=t}},{key:"top",get:function(){return this._top},set:function(t){this._top=t}},{key:"innerItem",get:function(){return this._innerItem}}]),t}();t.exports=e}).call(i,e(0))}]);
//# sourceMappingURL=PackingLayout.js.map